<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>FTP Adapter to ERP Adapter Integration</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This use case describes how to load data from a secure FTP location to Oracle ERP Cloud by using a trigger file mechanism. The data is sent to Oracle Integration Cloud Service for orchestration. Oracle Integration Cloud Service schedules the integration flow for polling the trigger file." />
<meta name="dcterms.created" content="2016-12-16T14:38:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle Integration Cloud Service Use Cases" />
<meta name="dcterms.identifier" content="E74331-02" />
<meta name="dcterms.isVersionOf" content="ICSUC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-E1DE2802-8421-4E1B-BE9A-12F83D42C849.htm" title="Previous" type="text/html" />
<link rel="alternate" href="ICSUC.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="ICSUC.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="ICSUC.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-541D6507-687A-4F68-97E1-E6484185E902"></a> <span id="PAGE" style="display:none;">18/18</span> <!-- End Header -->
<h1 id="ICSUC-GUID-541D6507-687A-4F68-97E1-E6484185E902" class="sect1">FTP Adapter to ERP Adapter Integration</h1>
<div>
<p>This use case describes how to load data from a secure FTP location to Oracle ERP Cloud by using a trigger file mechanism. The data is sent to Oracle Integration Cloud Service for orchestration. Oracle Integration Cloud Service schedules the integration flow for polling the trigger file.</p>
<div class="video-box">
<div xmlns="" id="18894" class="video-container"></div>
</div>
<ul style="list-style-type: disc;">
<li>
<p>Create an orchestrated integration that is triggered by a schedule.</p>
</li>
<li>
<p>From the <span class="bold">INVOKE</span> panel, drag an FTP Adapter into the integration canvas.</p>
</li>
<li>
<p>Configure the FTP Adapter to perform the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Specify a name of <code>readTriggerFile</code>.</p>
</li>
<li>
<p>Specify a file name pattern of <code>*.TRG</code>.</p>
</li>
<li>
<p>Specify an input directory from which to read a trigger file.</p>
</li>
<li>
<p>Define a schema from a CSV file as the trigger file format.</p>
</li>
</ul>
</li>
<li>
<p>From the <span class="bold">ACTIONS</span> panel, add an Assign action below the FTP Adapter to declare the set of variables.</p>
<ul style="list-style-type: disc;">
<li>
<p>Specify a name of <code>ExtactFileName</code>.</p>
</li>
<li>
<p>In the Expression Builder, configure variables, such as extracting the ZIP file name of <code>*.TRG</code> from a relative path.</p>
</li>
</ul>
</li>
<li>
<p>Add a second invoke FTP Adapter below the Assign action to download and stage the file temporarily in Oracle Integration Cloud Service.</p>
</li>
<li>
<p>Configure the FTP Adapter to perform the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Specify a name of <code>DownloadFile</code>.</p>
</li>
<li>
<p>Select the <span class="bold">Download to ICS</span> operation.</p>
</li>
<li>
<p>Specify the input directory and download directory path.</p>
</li>
<li>
<p>Select the <span class="bold">Unzip the File</span> option.</p>
A mapper is automatically added to the integration whenever a Stage File action or new endpoints such as the FTP Adapter are added to the integration. The mapper appears between the Assign action and the <span class="bold">DownloadFile</span> FTP Adapter.</li>
</ul>
</li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p>In the mapper, map the source extracted ZIP file to the target <code>DownloadFileToICS</code> filename element.</p>
</li>
<li>
<p>Because the ZIP file may contain multiple files, drag a For-Each action below the <span class="bold">DownloadFIle</span> FTP Adapter in the integration. This action enables iteration over a repeated element.</p>
</li>
<li>
<p>Specify the repeating element and current element name.</p>
</li>
<li>
<p>To read each file from the input directory, add a Stage File action below the For-Each action and configure it as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>In the Expression Builder, specify the file name and directory from which to read the file.</p>
</li>
<li>Specify the schema file by loading a CSV file that contains the data structure.</li>
</ul>
</li>
<li>
<p>When a file is staged in Oracle Integration Cloud Service, add a second For-Each action below the Stage File action to iterate through each record.</p>
<ul style="list-style-type: disc;">
<li>
<p>Add the repeating element and current element name.</p>
</li>
</ul>
</li>
<li>
<p>Add a second Stage File action to write each record into a new file.</p>
<ul style="list-style-type: disc;">
<li>
<p>Specify a name of <code>WriteRecordToFile</code>.</p>
</li>
<li>
<p>In the Expression Builder, set the name and the output directory. All the enriched data is appended to the staged file. The schema file for the new ERP file uses the same structure as the source file.</p>
</li>
</ul>
</li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p>Perform the data mapping and transformation in the automatically added mapper. Functions, operators, and XSLs are useful to enrich and transform the new file for ERP.</p>
</li>
<li>
<div class="p">Add a Stage File action below the <code>WriteRecordToFile</code> Stage File action to write a manifest file with the business data details.
<ul style="list-style-type: disc;">
<li>
<p>Specify a name of <code>CreateManifest</code>.</p>
</li>
<li>
<p>In the Expression Builder, select the <span class="bold">Write File</span> option and <span class="bold">Append to Existing File</span>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>In the mapper that is automatically created above the <span class="bold">CreateManifest</span> Stage File action, define the manifest file content.</p>
</li>
<li>
<p>Add a Stage File action below the <span class="bold">CreateManifest</span> Stage File action to rezip the file before sending it to the ERP cloud endpoint.</p>
<ul style="list-style-type: disc;">
<li>
<p>In the Expression Builder, select the <span class="bold">ZIP Files</span> option.</p>
</li>
<li>
<p>Select the zip file name to concatenate and the directory to zip.</p>
</li>
</ul>
</li>
<li>
<p>Add an ERP adapter at the end of the integration to import the data into the ERP Financial application.</p>
<ul style="list-style-type: disc;">
<li>
<p>Select the <span class="bold">Import Payable Invoices</span> operation.</p>
<p>Once the data loading and processing are complete, an email notification must be triggered.</p>
</li>
<li>
<p>Select <span class="bold">Email Notification</span>.</p>
</li>
<li>
<p>Define a callback to retrieve any details about failed records.</p>
</li>
</ul>
</li>
<li>
<p>In the mapper above the ERP Adapter, define the file references for the endpoint so that the ERP system processes the rezipped file accordingly.</p>
</li>
<li>
<p>Activate the integration and monitor the activity stream from the Runtime Health page. The activity stream and diagnostic logs are available for download.</p>
</li>
<li>
<p>Save and activate your integration.</p>
</li>
<li>
<p>Invoke the integration.</p>
</li>
<li>
<p>Monitor the activity stream and the diagnostics log.</p>
</li>
</ul>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment845">
<tr>
<td class="cellalignment852">
<table class="cellalignment856">
<tr>
<td class="cellalignment849"><a href="GUID-E1DE2802-8421-4E1B-BE9A-12F83D42C849.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment854">
<table class="cellalignment848">
<tr>
<td class="cellalignment849"><a href="../../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment849"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment849"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
