<!DOCTYPE html><html prefix="og: http://ogp.me/ns#"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Using Apiary with GitLab | Apiary Help</title>
  <link rel="stylesheet" href="../../css/main.css?8d147e3a37768b440f679294bd9bc305">

  
    
      <meta name="description" content="How to sync Apiary with GitLab">
    
    <meta property="og:title" content="Using Apiary with GitLab">
    <meta property="og:site_name" content="Apiary.io">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://help.apiary.io/api_101/gitlab-integration/">
    <meta property="og:image" content="https://help.apiary.io/images/apiary_sharing.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    
      <meta property="og:description" content="How to sync Apiary with GitLab">
    

    <meta property="og:site_name" content="Apiary Help">

    
      <meta property="og:see_also" content="https://help.apiary.io/api_101/bitbucket-integration/">
    
      <meta property="og:see_also" content="https://help.apiary.io/tools/github-sync/">
    
      <meta property="og:see_also" content="https://help.apiary.io/tools/automated-testing/testing-ci/">
    
      <meta property="og:see_also" content="https://help.apiary.io/tools/apiary-cli/">
    

    <meta property="twitter:account_id" content="183960592">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@apiaryio">
    <meta name="twitter:creator" content="@apiaryio">
    <meta name="twitter:title" content="Using Apiary with GitLab">

    
      <meta name="twitter:description" content="How to sync Apiary with GitLab">
    

    <meta name="twitter:image" content="https://help.apiary.io/images/apiary_sharing.png">
    <meta name="twitter:url" content="https://help.apiary.io/api_101/gitlab-integration/">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="./index.html">
    <link rel="dns-prefetch" href="//jsapi.apiary.io">
  

  <link rel="sitemap" type="application/xml" title="Sitemap" href="../../sitemap.xml">
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>


  <body vocab="http://schema.org/" typeof="WebPage">
    <div class="pageWrap">
      <header class="site-header">
  <div class="site-header-inner">
    <a class="site-title" href="https://apiary.io">
      <img src="../../images/oracleapiarylogo.png" alt="Apiary logo">
      <span>Apiary Help</span>
    </a>

    <nav class="site-nav">
      <ul>
        <li><a href="https://apiary.io/how-it-works">How It Works</a></li>
<li><a href="https://apiary.io/plans">Plans</a></li>
<li><a href="https://apiary.io/products">Product</a></li>
<li><a href="../../">Help</a></li>
<li class="hide-sm"><a href="https://apiary.io/company">Company</a></li>
<li><a href="https://login.apiary.io/login">Sign In</a></li>
<li><a class="site-nav-signup" href="https://login.apiary.io/login">Sign Up</a></li>

        <li><a href="javascript:;" class="openMobileNav">&#x2630; Menu</a></li>
      </ul>
    </nav>
  </div>
</header>





      <div class="layout-content">
        <div class="layout-content-inner">
          <div class="page">
  
  <nav class="page-breadcrumbs">
    <ul class="breadcrumbs">
        
        
          <li>
            
              <a href="../../">Apiary Help</a>
            
          </li>
        
          <li>
            
              <a href="../">API 101</a>
            
          </li>
        
          <li class="active">
            
              Using Apiary with GitLab
            
          </li>
        
    </ul>
  </nav>



  <aside class="page-aside" property="hasPart" typeof="WPSideBar">
    <aside>
  <div class="aside-category">
    <h2 class="aside-category-title"><a href="../../tools/" class="category-link">Apiary Tools</a></h2>
    <ul class="aside-category-page-list">
      
      
        <li><a href="../../tools/apiary-editor/">Apiary Editor</a></li>
      
        <li><a href="../../tools/interactive-documentation/">Interactive Documentation</a></li>
      
        <li><a href="../../tools/mock-server/">Mock Server</a></li>
      
        <li><a href="../../tools/api-inspector/">API Inspector</a></li>
      
        <li><a href="../../tools/github-sync/">GitHub Sync</a></li>
      
        <li><a href="../../tools/github-integration/">GitHub Integration</a></li>
      
        <li><a href="../../tools/automated-testing/">Automated Testing</a></li>
      
        <li><a href="../../tools/apiary-cli/">Apiary CLI</a></li>
      
        <li><a href="../../tools/github-enterprise-integration/">GitHub Enterprise (GHE) Integration</a></li>
      
        <li><a href="../../tools/code-examples/">Integrated Code Examples</a></li>
      
        <li><a href="../../tools/embed/">Embed documentation</a></li>
      
        
      
        
      
        
      
        
      
        
      
        <li><a href="../../tools/style-guide/">API Style Guide</a></li>
      
        <li><a href="../../tools/troubleshooting-github/">Troubleshooting GitHub Sync and Integration</a></li>
      
        <li><a href="../../tools/version-history/">Version history</a></li>
      
    </ul>
  </div>

  <div class="aside-category">
    <h2 class="aside-category-title"><a href="../../faq/" class="category-link">FAQs</a></h2>
  </div>

  <div class="aside-category">
    <h2 class="aside-category-title">Resources</h2>
    <ul class="aside-category-page-list">
      <li><a href="../api_blueprint_tutorial/" class="category-link-resources">API Blueprint Tutorial</a></li>
      <li><a href="http://support.apiary.io/forums/120125-general" class="category-link-resources" target="blank">Feedback</a></li>
      <li><a href="https://apiary.io/support" class="category-link-resources" target="blank">Support</a></li>
    </ul>
  </div>
</aside>

  </aside>

  <article class="page-content" role="main" property="mainEntityOfPage" typeof="Article">
    <header class="page-header">
      <h1 class="page-title" property="headline">Using Apiary with GitLab</h1>
    </header>
    <div property="text" class="entry-content">
      <div class="block block--lead">
        
<p>This article describes how to setup <strong>one way</strong> integration of GitLab with
Apiary. Once complete, any change made in GitLab will be published on Apiary.</p>

      </div>

<h2 id="overview">Overview</h2>

<p>A <strong>one way</strong> integration is a connection between GitLab with Apiary through
GitLab&#x2019;s continuous integration (CI) where the API description (API Blueprint or
Swagger) can be changed <strong>only</strong> from GitLab.</p>

<p>A push of a new version of an API description into the GitLab will trigger a CI
deployment of the new version into Apiary. With this setup you won&#x2019;t be able to
modify your API description inside Apiary as no changes are propagated from
Apiary back to the GitLab.</p>

<p>Optionally, you may also include the API tests in this integration. While in
this article we will be using <a href="https://gitlab.com/">GitLab</a> as the VCS and
<a href="https://about.gitlab.com/gitlab-ci/">GitLab CI</a> as examples, but it should be
possible to create a similar setup using any other VCS and CI providers.</p>

<h2 id="create-an-api-project-at-apiary">1. Create an API Project at Apiary</h2>

<p>Create a new API Project in Apiary if you haven&#x2019;t done so already. You may also
select an existing API project. You will need the subdomain of the API project
in which you are wanting to sync with GitLab. The subdomain can be found by
going to the settings for your API project and look at the heading &#x201C;Settings for
subdomain <subdomain>.&quot; We will refer to this as the subdomain throughout this
document.</subdomain></p>

<h2 id="generate-apiary-token">2. Generate Apiary Token</h2>

<p><a href="../../tools/apiary-cli/#generating-an-authentication-token">Generate your personal Apiary token</a>.</p>

<p>This token will be needed to setup the CI later. Any pushes to GitLab will be
propagated to Apiary using this token and therefore your credentials.</p>

<div class="block block--warning">
        <div class="block__heading">Warning</div>
<p>Please be sure to keep this token safe, as it allows any person or service with
this token to have all of your privileges. It is also important that you do not
check this token into your code and push it to GitLab.</p>

      </div>

<h2 id="create-or-select-a-gitlab-project">3. Create or select a GitLab project</h2>

<p>Create or select a project on GitLab that should host the API description.
Make sure you have permissions to set variables and use the pipeline. To create
a new project in GitLab, select &#x201C;New Project&#x201D; from the GitLab dashboard.</p>

<h2 id="commit-your-api-description-document">4. Commit your API description document</h2>

<p>Commit your API description document to the respository and name it
<code>apiary.apib</code>. You may use a different path if desired, and if so, please note
what that is for steps below.</p>

<div class="block block--info">
        <div class="block__heading">Note</div>
<p>While you can use <code>git</code> locally and create commits to push into GitLab, you can
also use
<a href="http://docs.gitlab.com/ee/gitlab-basics/add-file.html">GitLab&#x2019;s web application</a>
to add a file.</p>

      </div>

<h2 id="add-token-as-variable-in-gitlab">5. Add token as variable in GitLab</h2>

<p>We will be pushing the API description document into Apiary by way of the
<a href="../../tools/apiary-cli/">Apiary CLI tool</a>. In order for this
tool to authenticate, it needs the token that was generated in the previous
step.</p>

<p>Navigate to your GitLab project and select the gear in top right. From the drop
down, select &#x201C;Variables.&#x201D; This will prompt you for a key and a value. For the
key, enter <code>APIARY_API_KEY</code>, and for the value, enter the token from the
previous step.</p>

<p>GitLab has
<a href="http://docs.gitlab.com/ce/ci/variables/README.html">documentation for defining variables</a>.
Please consult this for more information on how to use variables in their CI feature.</p>

<h2 id="add-gitlab-ci-configuration-file">6. Add GitLab CI configuration file</h2>

<p>GitLab <a href="https://gitlab.com/help/ci/quick_start/README">nice documentation</a>
for getting started with their CI feature. All of their CI functionality will
show up under the &#x201C;Pipelines&#x201D; section for a repository.</p>

<p>This section denotes two tasks to complete to get CI working.</p>

<ol>
  <li>Turn on <a href="http://docs.gitlab.com/ce/ci/runners/README.html">Shared Runners</a></li>
  <li>Configure a <code>.gitlab-ci.yaml</code> file</li>
</ol>

<p>To turn on Shared Runners, click the gear icon in the top right and select
&#x201C;Runners&#x201D; from the list. Ensure the Shared Runners are turned on for your GitLab
project.</p>

<p>Next, configure how GitLab CI works for this project. Below is an example
configuration file that installs the Apiary CLI tool and uses it to publish to
Apiary. The configuration file assumes you have set the token and have named
your file <code>apiary.apib</code>. To use it, change the <code>&lt;subdomain&gt;</code> text to your
subdomain for your API project in Apiary.</p>

<p>Additionally, if you used a different path above for the file, you&#x2019;ll need to
change the path in the <code>push</code> command as
<a href="../../tools/apiary-cli/#path-1">noted in our documentation</a>.</p>

<pre><code class="language-yaml">image: &quot;ruby:2.3&quot;

before_script:
  - gem install apiaryio

stages:
  - deploy

deploy_job:
  stage: deploy
  script:
    - apiary publish --api-name=&quot;&lt;subdomain&gt;&quot;
  only:
    - master
</code></pre>

<p>Once this file is committed to <code>master</code>, your API description document will be
published to Apiary.</p>

<p><img src="../../images/gitlab-integration/gitlab-ci-pending.png" alt="GitLab CI Pending"></p>

<p>You should see any changes made in GitLab show up in Apiary automatically after the
deploy script finishes in GitLab CI.</p>

<h2 id="conclusion">Conclusion</h2>

<p>If you have followed all the steps in this article, your changes in your API
description on GitLab will be pushed to Apiary. This means your API
documentation is always living up to what has been merged in to the master
branch of your API implementation!</p>

    </div>

    <div class="pageFeedback">
  <div class="pageFeedback--initial">
    <div class="pageFeedback--question">
      Was this page useful?
    </div>
    <div class="pageFeedback--yes"></div>
    <div class="pageFeedback--no"></div>
  </div>
  <div class="pageFeedback--thankYouBlock">
    Thank you for the feedback!
  </div>
  <div class="pageFeedback--whatWentWrong">
    <div class="pageFeedback--whatWentWrongTitle">What went wrong?</div>
    <label><input type="checkbox" id="droids" value="droids"> It&#x2019;s not what I was looking for</label>
    <label><input type="checkbox" id="simplify" value="simplify"> It was hard to understand</label>
    <label><input type="checkbox" id="else" value="else"> Something else</label>
  </div>
</div>

    
  <div class="relatedTopics">
    <h2 class="relatedTopics__title">Related topics</h2>
    <ul class="relatedTopics__list">
      
        <li><a href="../bitbucket-integration/">Using Apiary with Bitbucket</a><br></li>
      
        <li><a href="../../tools/github-sync/">GitHub Sync</a><br></li>
      
        <li><a href="../../tools/automated-testing/testing-ci/">Continuous API testing</a><br></li>
      
        <li><a href="../../tools/apiary-cli/">Apiary CLI</a><br></li>
      
    </ul>
  </div>


  </article>
</div>

        </div>
      </div>

      <footer>
  <div class="footerRow">
    <div class="footerColumns">
      <div class="footerColumn">
        <h4 class="footerTitle">Platform</h4>
        <ul class="footerList">
          <li><a class="footerListLink" href="https://apiary.io/how-it-works">How It Works</a></li>
          <li><a class="footerListLink" href="https://apiary.io/products">Product</a></li>
          <li><a class="footerListLink" href="https://enterprise.apiary.io/">Enterprise</a></li>
          <li><a class="footerListLink" href="https://apiary.io/plans">Plans</a></li>
          <li><a class="footerListLink" href="../../">Help</a></li>
        </ul>
      </div>
      <div class="footerColumn">
        <h4 class="footerTitle">Company</h4>
        <ul class="footerList">
          <li><a class="footerListLink" href="http://blog.apiary.io/">Blog</a></li>
          <li><a class="footerListLink" href="https://apiary.io/company">Team</a></li>
          <li><a class="footerListLink" href="https://apiary.io/jobs">Jobs</a></li>
          <li><a class="footerListLink" href="https://apiary.io/contact">Contact</a></li>
          <li><a class="footerListLink" href="https://static.apiary.io/assets/29b1ca7e9b4668542aa05ccd5f9338a6.zip">Press Kit</a></li>
        </ul>
      </div>
      <div class="mobileBreak"></div>
      <div class="footerColumn">
        <h4 class="footerTitle">Open Source</h4>
        <ul class="footerList">
          <li><a class="footerListLink" href="https://apiblueprint.org">API Blueprint</a></li>
          <li><a class="footerListLink" href="https://github.com/apiaryio/snowcrash">Snow Crash</a></li>
          <li><a class="footerListLink" href="https://github.com/apiaryio/gavel">Gavel</a></li>
          <li><a class="footerListLink" href="http://dredd.readthedocs.org/">Dredd</a></li>
          <li><a class="footerListLink" href="../../tools/apiary-cli/">Apiary CLI</a></li>
        </ul>
      </div>
      <div class="footerColumn">
        <h4 class="footerTitle">Social</h4>
        <ul class="footerList">
          <li><a class="footerListLink" href="https://github.com/apiaryio">GitHub</a></li>
          <li><a class="footerListLink" href="https://twitter.com/apiaryio">Twitter</a></li>
          <li><a class="footerListLink" href="https://facebook.com/apiary.io">Facebook</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="footerRow">
    <p class="footerCopyright">Copyright &#xA9; 2017, Oracle and/or its affiliates. All rights reserved. Oracle and Java are registered trademarks of Oracle and/or its affiliates. Other names may be trademarks of their respective owners. <span class="footerCopyrightLinks">&#x2022; <a href="https://apiary.io/tos" class="footerCopyrightLink">Terms</a> &#x2022; <a href="https://apiary.io/privacy" class="footerCopyrightLink">Privacy</a></span></p>
  </div>
</footer>

    </div>
    <nav class="mobileNav">
  <div class="mobileNav-inner">
    <a href="javascript:;" class="closeMobileNav">&#x2715; Close menu</a>
    <ul class="mobileNav-list">
      <li><a href="../../">Docs home</a></li>
      <li><a href="https://apiary.io">Back to Apiary.io</a></li>
      <li><a href="https://apiary.io/how-it-works">How It Works</a></li>
<li><a href="https://apiary.io/plans">Plans</a></li>
<li><a href="https://apiary.io/products">Product</a></li>
<li><a href="../../">Help</a></li>
<li class="hide-sm"><a href="https://apiary.io/company">Company</a></li>
<li><a href="https://login.apiary.io/login">Sign In</a></li>
<li><a class="site-nav-signup" href="https://login.apiary.io/login">Sign Up</a></li>

    </ul>
    <aside>
  <div class="aside-category">
    <h2 class="aside-category-title"><a href="../../tools/" class="category-link">Apiary Tools</a></h2>
    <ul class="aside-category-page-list">
      
      
        <li><a href="../../tools/apiary-editor/">Apiary Editor</a></li>
      
        <li><a href="../../tools/interactive-documentation/">Interactive Documentation</a></li>
      
        <li><a href="../../tools/mock-server/">Mock Server</a></li>
      
        <li><a href="../../tools/api-inspector/">API Inspector</a></li>
      
        <li><a href="../../tools/github-sync/">GitHub Sync</a></li>
      
        <li><a href="../../tools/github-integration/">GitHub Integration</a></li>
      
        <li><a href="../../tools/automated-testing/">Automated Testing</a></li>
      
        <li><a href="../../tools/apiary-cli/">Apiary CLI</a></li>
      
        <li><a href="../../tools/github-enterprise-integration/">GitHub Enterprise (GHE) Integration</a></li>
      
        <li><a href="../../tools/code-examples/">Integrated Code Examples</a></li>
      
        <li><a href="../../tools/embed/">Embed documentation</a></li>
      
        
      
        
      
        
      
        
      
        
      
        <li><a href="../../tools/style-guide/">API Style Guide</a></li>
      
        <li><a href="../../tools/troubleshooting-github/">Troubleshooting GitHub Sync and Integration</a></li>
      
        <li><a href="../../tools/version-history/">Version history</a></li>
      
    </ul>
  </div>

  <div class="aside-category">
    <h2 class="aside-category-title"><a href="../../faq/" class="category-link">FAQs</a></h2>
  </div>

  <div class="aside-category">
    <h2 class="aside-category-title">Resources</h2>
    <ul class="aside-category-page-list">
      <li><a href="../api_blueprint_tutorial/" class="category-link-resources">API Blueprint Tutorial</a></li>
      <li><a href="http://support.apiary.io/forums/120125-general" class="category-link-resources" target="blank">Feedback</a></li>
      <li><a href="https://apiary.io/support" class="category-link-resources" target="blank">Support</a></li>
    </ul>
  </div>
</aside>

  </div>
</nav>

    
  <script>
    window._trackJs = {
      token: '60775d2a4c124659ba6585cf31909f85',
      application: 'docs-portal'
    };

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-18252923-8', 'auto');
    ga('send', 'pageview');
  </script>





<script type="text/javascript" src="../../assets/main-9de9a2eabd0d23c2aefea3d1fee69cd4bb776643ddb27cfeb7da88d5371bc1cb.js?8d147e3a37768b440f679294bd9bc305"></script>



  


</body></html>