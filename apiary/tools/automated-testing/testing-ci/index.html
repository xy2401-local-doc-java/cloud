<!DOCTYPE html><html prefix="og: http://ogp.me/ns#"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Continuous API testing | Apiary Help</title>
  <link rel="stylesheet" href="../../../css/main.css?8d147e3a37768b440f679294bd9bc305">

  
    
    <meta property="og:title" content="Continuous API testing">
    <meta property="og:site_name" content="Apiary.io">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://help.apiary.io/tools/automated-testing/testing-ci/">
    <meta property="og:image" content="https://help.apiary.io/images/apiary_sharing.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    

    <meta property="og:site_name" content="Apiary Help">

    
      <meta property="og:see_also" content="https://help.apiary.io/tools/automated-testing/testing-local/">
    
      <meta property="og:see_also" content="https://help.apiary.io/tools/github-sync/">
    
      <meta property="og:see_also" content="https://help.apiary.io/api_101/bitbucket-integration/">
    
      <meta property="og:see_also" content="https://help.apiary.io/api_101/dredd-tutorial/">
    
      <meta property="og:see_also" content="https://help.apiary.io/api_101/enhancing-apiary-workflow/">
    

    <meta property="twitter:account_id" content="183960592">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@apiaryio">
    <meta name="twitter:creator" content="@apiaryio">
    <meta name="twitter:title" content="Continuous API testing">

    

    <meta name="twitter:image" content="https://help.apiary.io/images/apiary_sharing.png">
    <meta name="twitter:url" content="https://help.apiary.io/tools/automated-testing/testing-ci/">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="index.html">
    <link rel="dns-prefetch" href="//jsapi.apiary.io">
  

  <link rel="sitemap" type="application/xml" title="Sitemap" href="../../../sitemap.xml">
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>


  <body vocab="http://schema.org/" typeof="WebPage">
    <div class="pageWrap">
      <header class="site-header">
  <div class="site-header-inner">
    <a class="site-title" href="https://apiary.io">
      <img src="../../../images/oracleapiarylogo.png" alt="Apiary logo">
      <span>Apiary Help</span>
    </a>

    <nav class="site-nav">
      <ul>
        <li><a href="https://apiary.io/how-it-works">How It Works</a></li>
<li><a href="https://apiary.io/plans">Plans</a></li>
<li><a href="https://apiary.io/products">Product</a></li>
<li><a href="../../../">Help</a></li>
<li class="hide-sm"><a href="https://apiary.io/company">Company</a></li>
<li><a href="https://login.apiary.io/login">Sign In</a></li>
<li><a class="site-nav-signup" href="https://login.apiary.io/login">Sign Up</a></li>

        <li><a href="javascript:;" class="openMobileNav">&#x2630; Menu</a></li>
      </ul>
    </nav>
  </div>
</header>





      <div class="layout-content">
        <div class="layout-content-inner">
          <div class="page">
  
  <nav class="page-breadcrumbs">
    <ul class="breadcrumbs">
        
        
          <li>
            
              <a href="../../../">Apiary Help</a>
            
          </li>
        
          <li>
            
              <a href="../../">Tools</a>
            
          </li>
        
          <li class="active">
            
              Continuous API testing
            
          </li>
        
    </ul>
  </nav>



  <aside class="page-aside" property="hasPart" typeof="WPSideBar">
    <aside>
  <div class="aside-category">
    <h2 class="aside-category-title"><a href="../../" class="category-link">Apiary Tools</a></h2>
    <ul class="aside-category-page-list">
      
      
        <li><a href="../../apiary-editor/">Apiary Editor</a></li>
      
        <li><a href="../../interactive-documentation/">Interactive Documentation</a></li>
      
        <li><a href="../../mock-server/">Mock Server</a></li>
      
        <li><a href="../../api-inspector/">API Inspector</a></li>
      
        <li><a href="../../github-sync/">GitHub Sync</a></li>
      
        <li><a href="../../github-integration/">GitHub Integration</a></li>
      
        <li><a href="../">Automated Testing</a></li>
      
        <li><a href="../../apiary-cli/">Apiary CLI</a></li>
      
        <li><a href="../../github-enterprise-integration/">GitHub Enterprise (GHE) Integration</a></li>
      
        <li><a href="../../code-examples/">Integrated Code Examples</a></li>
      
        <li><a href="../../embed/">Embed documentation</a></li>
      
        
      
        
      
        
      
        
      
        
      
        <li><a href="../../style-guide/">API Style Guide</a></li>
      
        <li><a href="../../troubleshooting-github/">Troubleshooting GitHub Sync and Integration</a></li>
      
        <li><a href="../../version-history/">Version history</a></li>
      
    </ul>
  </div>

  <div class="aside-category">
    <h2 class="aside-category-title"><a href="../../../faq/" class="category-link">FAQs</a></h2>
  </div>

  <div class="aside-category">
    <h2 class="aside-category-title">Resources</h2>
    <ul class="aside-category-page-list">
      <li><a href="../../../api_101/api_blueprint_tutorial/" class="category-link-resources">API Blueprint Tutorial</a></li>
      <li><a href="http://support.apiary.io/forums/120125-general" class="category-link-resources" target="blank">Feedback</a></li>
      <li><a href="https://apiary.io/support" class="category-link-resources" target="blank">Support</a></li>
    </ul>
  </div>
</aside>

  </aside>

  <article class="page-content" role="main" property="mainEntityOfPage" typeof="Article">
    <header class="page-header">
      <h1 class="page-title" property="headline">Continuous API testing</h1>
    </header>
    <div property="text" class="entry-content">
      <p>Have you run the API tests locally? If not then please have a look at
the <a href="../testing-local">getting started with local testing</a> article. <a href="http://dredd.readthedocs.org/en/latest/">Dredd</a> has built-in support for it and with <a href="../testing-reporter">Apiary test reporter</a> becomes an invaluable tool.</p>

<h2 id="continuous-api-testing">Continuous API testing</h2>
<p>The continuous API testing using <a href="http://dredd.readthedocs.org/en/latest/">Dredd</a> is easy to setup on all major CI systems. <a href="https://travis-ci.org/">Travis CI</a> and <a href="https://circleci.com/">Circle CI</a> cloud solutions are supported out of the box.</p>

<div class="block block--warning">
        <div class="block__heading">Pin your Dredd version</div>
<p>When testing in CI, <strong>always pin your Dredd version to a specific number</strong> (in examples below represented by <code>x.x.x</code>) and upgrade to newer releases manually.</p>

      </div>

<h3 id="circle-ci">Circle CI</h3>
<p>The <code>dredd init</code> command can create or add to existing <code>circle.yml</code> configuration, or add lines by hand to the <code>circle.yml</code> file below.</p>

<pre><code class="language-yaml">dependencies:
  pre:
    - npm install -g dredd@x.x.x
test:
  post:
    - dredd
</code></pre>

<h3 id="travis-ci">Travis CI</h3>
<p>Travis CI is again easy to set up, just add following lines to <code>.travis.yml</code> file.</p>

<pre><code class="language-yaml">
before_install:
  - npm install -g dredd@x.x.x

after_success:
    - dredd

</code></pre>

<h3 id="jenkins-ci">Jenkins CI</h3>

<p>For the most used on-premise open source solution <a href="https://jenkins.io/">Jenkins CI</a> we recommend using Continuous Delivery Pipelines as in our example using <a href="https://github.com/apiaryio/dredd-example">dredd-example repository</a>.</p>

<p>Jenkins CI needs plugins and to setup nodes for using Node.js plus all dependecies required by the application under the test (in dredd-example case, MongoDB database is needed). We use node with name <code>node6</code> where Node.js v6 is installed. You can use <a href="https://wiki.jenkins-ci.org/display/JENKINS/NodeJS+Plugin">Node.js plugin</a> or Docker or configuration management (Ansible, Chef, Puppet, SaltStack) to create the machine with Node.js and MongoDB. We use <a href="https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin">AnsiColor plugin</a> to support terminal colors in Jenkins for better readability of the build output.</p>

<p>The example combines <a href="../testing-reporter/">Apiary reporter</a> with JUnit reporter. Thanks to the reporter and a <a href="https://wiki.jenkins-ci.org/display/JENKINS/JUnit+Plugin">jUnit plugin</a> we can collect Dredd testing statistics in Jenkins.</p>

<pre><code>node(&apos;node6&apos;) {
   stage(&apos;Get source code&apos;) {
      git url: &apos;https://github.com/apiaryio/dredd-example.git&apos;, branch: &apos;master&apos;
   }
   stage(&apos;Install Deps&apos;) {
      if(isUnix()) {
         sh &apos;node -v&apos;
         sh &apos;npm -v&apos;
         sh &apos;npm install&apos;
         sh &apos;npm -g install dredd@stable&apos;
      } else {
         bat &apos;node -v&apos;
         bat &apos;npm -v&apos;
         bat &apos;npm install&apos;
         bat &apos;npm -g install dredd@stable&apos;
      }
   }
   stage(&apos;Test Swagger&apos;) {
      if(isUnix()) {
         wrap([$class: &apos;AnsiColorBuildWrapper&apos;, &apos;colorMapName&apos;: &apos;XTerm&apos;]) {
          sh &apos;dredd --config ./swagger/dredd.yml --reporter junit --output swagger.xml&apos;
         }
      } else {
         bat &apos;dredd --config ./swagger/dredd.yml --reporter junit --output swagger.xml&apos;
      }
   }
   stage(&apos;Test API Blueprint&apos;) {
      if(isUnix()) {
         wrap([$class: &apos;AnsiColorBuildWrapper&apos;, &apos;colorMapName&apos;: &apos;XTerm&apos;]) {
          sh &apos;dredd --config ./api-blueprint/dredd.yml --reporter junit --output blueprint.xml&apos;
         }
      } else {
         bat &apos;dredd --config ./api-blueprint/dredd.yml --reporter junit --output blueprint.xml&apos;
      }
   }
   stage(&apos;Get JUnit Results&apos;) {
      junit &apos;blueprint.xml&apos;
      junit &apos;swagger.xml&apos;
   }
}
</code></pre>

<p><img src="../../../images/tools/testing/jenkins_test_workspace.png" alt="Jenins Dredd testing"></p>

<h3 id="see-the-results">See the results</h3>
<p>You can easily browse all the test runs using the <a href="../testing-reporter">Apiary test reporter</a>. There is a <code>Continuous Integration</code> tab showing only CI test runs.</p>

<p>To be filed under this tab, <code>CI</code> environment must be set. This is done automatically for you by major Continuous Integration providers, but it may need to be populated manually in special cases like running in a containerised environment.</p>

    </div>

    <div class="pageFeedback">
  <div class="pageFeedback--initial">
    <div class="pageFeedback--question">
      Was this page useful?
    </div>
    <div class="pageFeedback--yes"></div>
    <div class="pageFeedback--no"></div>
  </div>
  <div class="pageFeedback--thankYouBlock">
    Thank you for the feedback!
  </div>
  <div class="pageFeedback--whatWentWrong">
    <div class="pageFeedback--whatWentWrongTitle">What went wrong?</div>
    <label><input type="checkbox" id="droids" value="droids"> It&#x2019;s not what I was looking for</label>
    <label><input type="checkbox" id="simplify" value="simplify"> It was hard to understand</label>
    <label><input type="checkbox" id="else" value="else"> Something else</label>
  </div>
</div>

    
  <div class="relatedTopics">
    <h2 class="relatedTopics__title">Related topics</h2>
    <ul class="relatedTopics__list">
      
        <li><a href="../testing-local/">Local API testing with Dredd</a><br></li>
      
        <li><a href="../../github-sync/">GitHub Sync</a><br></li>
      
        <li><a href="../../../api_101/bitbucket-integration/">Using Apiary with Bitbucket</a><br></li>
      
        <li><a href="../../../api_101/dredd-tutorial/">Dredd Tutorial</a><br></li>
      
        <li><a href="../../../api_101/enhancing-apiary-workflow/">Enhancing Apiary Workflow</a><br></li>
      
    </ul>
  </div>


  </article>
</div>

        </div>
      </div>

      <footer>
  <div class="footerRow">
    <div class="footerColumns">
      <div class="footerColumn">
        <h4 class="footerTitle">Platform</h4>
        <ul class="footerList">
          <li><a class="footerListLink" href="https://apiary.io/how-it-works">How It Works</a></li>
          <li><a class="footerListLink" href="https://apiary.io/products">Product</a></li>
          <li><a class="footerListLink" href="https://enterprise.apiary.io/">Enterprise</a></li>
          <li><a class="footerListLink" href="https://apiary.io/plans">Plans</a></li>
          <li><a class="footerListLink" href="../../../">Help</a></li>
        </ul>
      </div>
      <div class="footerColumn">
        <h4 class="footerTitle">Company</h4>
        <ul class="footerList">
          <li><a class="footerListLink" href="http://blog.apiary.io/">Blog</a></li>
          <li><a class="footerListLink" href="https://apiary.io/company">Team</a></li>
          <li><a class="footerListLink" href="https://apiary.io/jobs">Jobs</a></li>
          <li><a class="footerListLink" href="https://apiary.io/contact">Contact</a></li>
          <li><a class="footerListLink" href="https://static.apiary.io/assets/29b1ca7e9b4668542aa05ccd5f9338a6.zip">Press Kit</a></li>
        </ul>
      </div>
      <div class="mobileBreak"></div>
      <div class="footerColumn">
        <h4 class="footerTitle">Open Source</h4>
        <ul class="footerList">
          <li><a class="footerListLink" href="https://apiblueprint.org">API Blueprint</a></li>
          <li><a class="footerListLink" href="https://github.com/apiaryio/snowcrash">Snow Crash</a></li>
          <li><a class="footerListLink" href="https://github.com/apiaryio/gavel">Gavel</a></li>
          <li><a class="footerListLink" href="http://dredd.readthedocs.org/">Dredd</a></li>
          <li><a class="footerListLink" href="../../apiary-cli/">Apiary CLI</a></li>
        </ul>
      </div>
      <div class="footerColumn">
        <h4 class="footerTitle">Social</h4>
        <ul class="footerList">
          <li><a class="footerListLink" href="https://github.com/apiaryio">GitHub</a></li>
          <li><a class="footerListLink" href="https://twitter.com/apiaryio">Twitter</a></li>
          <li><a class="footerListLink" href="https://facebook.com/apiary.io">Facebook</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="footerRow">
    <p class="footerCopyright">Copyright &#xA9; 2017, Oracle and/or its affiliates. All rights reserved. Oracle and Java are registered trademarks of Oracle and/or its affiliates. Other names may be trademarks of their respective owners. <span class="footerCopyrightLinks">&#x2022; <a href="https://apiary.io/tos" class="footerCopyrightLink">Terms</a> &#x2022; <a href="https://apiary.io/privacy" class="footerCopyrightLink">Privacy</a></span></p>
  </div>
</footer>

    </div>
    <nav class="mobileNav">
  <div class="mobileNav-inner">
    <a href="javascript:;" class="closeMobileNav">&#x2715; Close menu</a>
    <ul class="mobileNav-list">
      <li><a href="../../../">Docs home</a></li>
      <li><a href="https://apiary.io">Back to Apiary.io</a></li>
      <li><a href="https://apiary.io/how-it-works">How It Works</a></li>
<li><a href="https://apiary.io/plans">Plans</a></li>
<li><a href="https://apiary.io/products">Product</a></li>
<li><a href="../../../">Help</a></li>
<li class="hide-sm"><a href="https://apiary.io/company">Company</a></li>
<li><a href="https://login.apiary.io/login">Sign In</a></li>
<li><a class="site-nav-signup" href="https://login.apiary.io/login">Sign Up</a></li>

    </ul>
    <aside>
  <div class="aside-category">
    <h2 class="aside-category-title"><a href="../../" class="category-link">Apiary Tools</a></h2>
    <ul class="aside-category-page-list">
      
      
        <li><a href="../../apiary-editor/">Apiary Editor</a></li>
      
        <li><a href="../../interactive-documentation/">Interactive Documentation</a></li>
      
        <li><a href="../../mock-server/">Mock Server</a></li>
      
        <li><a href="../../api-inspector/">API Inspector</a></li>
      
        <li><a href="../../github-sync/">GitHub Sync</a></li>
      
        <li><a href="../../github-integration/">GitHub Integration</a></li>
      
        <li><a href="../">Automated Testing</a></li>
      
        <li><a href="../../apiary-cli/">Apiary CLI</a></li>
      
        <li><a href="../../github-enterprise-integration/">GitHub Enterprise (GHE) Integration</a></li>
      
        <li><a href="../../code-examples/">Integrated Code Examples</a></li>
      
        <li><a href="../../embed/">Embed documentation</a></li>
      
        
      
        
      
        
      
        
      
        
      
        <li><a href="../../style-guide/">API Style Guide</a></li>
      
        <li><a href="../../troubleshooting-github/">Troubleshooting GitHub Sync and Integration</a></li>
      
        <li><a href="../../version-history/">Version history</a></li>
      
    </ul>
  </div>

  <div class="aside-category">
    <h2 class="aside-category-title"><a href="../../../faq/" class="category-link">FAQs</a></h2>
  </div>

  <div class="aside-category">
    <h2 class="aside-category-title">Resources</h2>
    <ul class="aside-category-page-list">
      <li><a href="../../../api_101/api_blueprint_tutorial/" class="category-link-resources">API Blueprint Tutorial</a></li>
      <li><a href="http://support.apiary.io/forums/120125-general" class="category-link-resources" target="blank">Feedback</a></li>
      <li><a href="https://apiary.io/support" class="category-link-resources" target="blank">Support</a></li>
    </ul>
  </div>
</aside>

  </div>
</nav>

    
  <script>
    window._trackJs = {
      token: '60775d2a4c124659ba6585cf31909f85',
      application: 'docs-portal'
    };

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-18252923-8', 'auto');
    ga('send', 'pageview');
  </script>





<script type="text/javascript" src="../../../assets/main-9de9a2eabd0d23c2aefea3d1fee69cd4bb776643ddb27cfeb7da88d5371bc1cb.js?8d147e3a37768b440f679294bd9bc305"></script>



  


</body></html>